<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Qoua Her</title>
  
  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- Font Awesome for social icons -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  />
</head>
<body>

<!-- Navigation -->
<nav>
  <div class="logo">Qoua Her</div>
  <ul>
    <li><a href="#about">About</a></li>
    <li><a href="#research">Research</a></li>
    <li><a href="#publications">Publications</a></li>
    <li><a href="#teaching">Teaching</a></li>
    <li><a href="#contact">Contact</a></li>
  </ul>
</nav>

<!-- About Section -->
<section id="about" class="section">
  <h1>Qoua Her, PharmD, MSc, MSPharm</h1>
  <p>
    Pharmacist, Informatician, and Pharmacoepidemiologist<br>
    Department of Epidemiology, University of North Carolina at Chapel Hill<br>
    Center for Medication Safety, U.S. Department of Veterans Affairs (VA MedSAFE)<br>
    IEmerge Health Analytics and Consulting
  </p>
</section>

<!-- Research Section -->
<section id="research" class="section">
  <h2>Research</h2>
  <ul>
    <li>Drug safety and effectiveness</li>
    <li>Biosimilars and real-world evidence</li>
    <li>Drug deprescribing</li>
  </ul>
</section>

<!-- Publications Section -->
<section id="publications" class="section">
  <h2>Selected Publications</h2>
  <p>
    For a complete list of my publications, see:
    <a href="https://scholar.google.com/citations?user=YOUR_ID" target="_blank">Google Scholar</a> |
    <a href="https://pubmed.ncbi.nlm.nih.gov/?term=her%2C+qoua&sort=date" target="_blank">PubMed</a>
  </p>
  <ul>
    <!-- Random 3 papers will be inserted here by JS -->
  </ul>
</section>

<!-- Teaching Section -->
<section id="teaching" class="section">
  <h2>Teaching</h2>
  <p>
    Pharmacoepidemiology, drug regulation, and real-world evidence.
  </p>
</section>

<!-- Contact Section -->
<section id="contact" class="section">
  <h2>Contact</h2>
  <p>
    Email: <a href="mailto:your@email.edu">your@email.edu</a>
  </p>
  <div class="social-icons">
    <!-- Email -->
    <a href="mailto:your@email.edu" title="Email">
      <i class="fas fa-envelope"></i>
    </a>
    <!-- GitHub -->
    <a href="https://github.com/qouaher" target="_blank" title="GitHub">
      <i class="fab fa-github"></i>
    </a>
    <!-- LinkedIn -->
    <a href="https://www.linkedin.com/in/qouaher" target="_blank" title="LinkedIn">
      <i class="fab fa-linkedin"></i>
    </a>
  </div>
</section>

<!-- Scripts -->
<script>
// Smooth scrolling
document.querySelectorAll('nav a').forEach(anchor => {
  anchor.addEventListener('click', function(e) {
    e.preventDefault();
    document.querySelector(this.getAttribute('href')).scrollIntoView({
      behavior: 'smooth'
    });
  });
});

// Random 3 publications from PubMed
async function loadRandomPublications() {
  const searchUrl = "https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=her,+qoua&retmax=20&retmode=json";
  try {
    const res = await fetch(searchUrl);
    const data = await res.json();
    const ids = data.esearchresult.idlist;

    const randomIds = [];
    while(randomIds.length < 3 && ids.length > 0){
      const index = Math.floor(Math.random() * ids.length);
      randomIds.push(ids.splice(index,1)[0]);
    }

    const summaryUrl = `https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&id=${randomIds.join(",")}&retmode=json`;
    const summaryRes = await fetch(summaryUrl);
    const summaryData = await summaryRes.json();

    const pubList = document.querySelector("#publications ul");
    pubList.innerHTML = "";

    randomIds.forEach(id => {
      const paper = summaryData.result[id];
      const li = document.createElement("li");
      li.innerHTML = `
        <strong>${paper.title}</strong>. 
        <em>${paper.fulljournalname}</em>. ${paper.pubdate}.
        <a href="https://pubmed.ncbi.nlm.nih.gov/${id}/" target="_blank">PubMed</a>
      `;
      pubList.appendChild(li);
    });

  } catch(err) {
    console.error("Error fetching publications:", err);
  }
}

window.addEventListener("load", loadRandomPublications);
</script>

</body>
</html>
